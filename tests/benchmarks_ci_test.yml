---
global:
  mode: "singularity"
  file: "result_profile.json"
  rundir: "/tmp/hep-spec_wd3"
  # mp_num: "48"
  benchmarks:
    - "db12"
    - "hs06_32"
    - "hs06_64"
  tags:
    cloud: "Suite CI"
    vo: "Some VM"
    other_tag: "Some text"
  uid: "machineX"

hepspec06:
  image: "gitlab-registry.cern.ch/hep-benchmarks/hep-spec/hepspec-cc7:qa"
  url_tarball: "https://example.com"
  # Define writeable directory for SPEC install in unpriveliged containers
  hepspec_volume: "/tmp/SPEC"
  iterations: 1
  bmk_set: '453.povray'

spec2017:
  image: "gitlab-registry.cern.ch/hep-benchmarks/hep-spec/hepspec-cc7:qa"
  # URL to fetch the spec2017. It will only be used if the software is not found under hepspec_volume.
  url_tarball: "https://www.example.com/"
  # Define the location on where spec2017 should be found
  # If spec2017 is not present, the directory should be writeable to allow the installation
  hepspec_volume: "/tmp/SPEC"
  # Number of iterations to run the benchmark
  iterations: 1
  # Run only a benchmark set
  bmk_set: '508.namd_r'

# copied from upstream hepscore test
hepscore_benchmark:
  app_info:
    name: HEPscore20CI
    reference_machine: 'Unknown'
    registry: docker://gitlab-registry.cern.ch/hep-benchmarks/hep-workloads
  settings:
    scaling: 10
    repetitions: 2  #number of repetitions of the same benchmark
    method: geometric_mean #or any other algorithm
  benchmarks:
    atlas-kv-bmk:
      version: ci1.2
      ref_scores:
        sim: 1
      args:
        # events
        -e: 3
        # threads
        -t: 1
        # copies
        -c: 2
        # debug
        -d: true
